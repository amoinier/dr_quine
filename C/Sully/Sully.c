int i = 5;
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
int main(void) { if (i >= 0) { if (strchr(__FILE__, i + 48)) { i--; } char c = (i + 48); char *str = strcat(strdup(strcat(strdup("Sully_"), &c)), ".c"); char *str2 = strdup(str); str2[7] = '\0'; FILE *fp = fopen(str, "w"); if (fp) { char *quine = "int i = %d;%c#include <stdio.h>%c#include <string.h>%c#include <stdlib.h>%cint main(void) { if (i >= 0) { if (strchr(__FILE__, i + 48)) { i--; } char c = (i + 48); char *str = strcat(strdup(strcat(strdup(%cSully_%c), &c)), %c.c%c); char *str2 = strdup(str); str2[7] = %c%c0%c; FILE *fp = fopen(str, %cw%c); if (fp) { char *quine = %c%s%c; fprintf(fp, quine, i, 10, 10, 10, 10, 34, 34, 34, 34, 39, 92, 39, 34, 34, 34, quine, 34, 34, 34, 34, 34, 34, 34, 10); fclose(fp); system(strcat(strdup(strcat(strdup(strcat(strdup(%cclang -Wall -Wextra -Werror %c), str)), %c -o %c)), str2)); } if (i > 0) { system(strcat(strdup(%c./%c), str2)); }} return 0;}%c"; fprintf(fp, quine, i, 10, 10, 10, 10, 34, 34, 34, 34, 39, 92, 39, 34, 34, 34, quine, 34, 34, 34, 34, 34, 34, 34, 10); fclose(fp); system(strcat(strdup(strcat(strdup(strcat(strdup("clang -Wall -Wextra -Werror "), str)), " -o ")), str2)); } if (i > 0) { system(strcat(strdup("./"), str2)); }} return 0;}
